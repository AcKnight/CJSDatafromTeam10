<!DOCTYPE html>
<html>
    <head>
	
		<style>
            .container{                
                width:100%;
                height:100%;
            }
           
           .left{
                text-align:center;
                background-color: white;                
                float:left;
                width: 60%;            
           }
           
           .right{
                text-align:center;
                background-color: white;                
                float:right;            
                width:40%;
           }
        </style>
		
		<style>
            .container2{                
                width:100%;
                height:100%;
            }
           
           .left2{
                text-align:center;
                background-color: white;                
                float:left;
                width: 50%;            
           }
           
           .right2{
                text-align:center;
                background-color: white;                
                float:right;            
                width:50%;
           }
        </style>
	
        <meta charset="UTF-8">
        <title></title>
		
        <script src="JavaScript/SheetJS/xlsx.full.min.js"></script>
		<script src="JavaScript/echarts/echarts.min.js"></script>
		<script src="JavaScript/echarts-gl/echarts-gl.min.js"></script>
		
		<script src="JavaScript/echarts/bmap.min.js"></script>
		<script src="JavaScript/jquery-3.3.1.min.js"></script>
		<script src="JavaScript/require.js"></script>
		<script src="http://api.map.baidu.com/api?v=2.0&ak=53oVIOgmSIejwV7EfphPgTynOZbIiVYu"></script>
		
    </head>

    <body>

		<div class="container2">
            <div id="map2" class="left2" id="ageLine" style=" height:800px;"></div>
            <div id="map" class="right2" id="agePie" style=" height:800px;"></div>
        </div> 	
		
		<div class="container">
            <div class="left" id="ageLine" style=" height:800px;"></div>
            <div class="right" id="agePie" style=" height:800px;"></div>
        </div> 

        <script>
            
			////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
			
			var mapContainer2 = document.getElementById('map2');
			var mapContainer = document.getElementById('map');
			
			var linContainer = document.getElementById('ageLine');
			var pieContainer = document.getElementById('agePie');
			
			// 用于使chart自适应高度和宽度,通过窗体高宽计算容器高宽
			var resizeWorldMapContainer = function () {
				mapContainer2.style.height = window.innerHeight+'px';
				mapContainer.style.height = window.innerHeight+'px';
				linContainer.style.height = window.innerHeight+'px';
				pieContainer.style.height = window.innerHeight+'px';
			};
			// 设置容器高宽
			resizeWorldMapContainer();
			
			// 地域分布
			var myChartMap2 = echarts.init(mapContainer2);
			var myChartMap = echarts.init(mapContainer);
			
			// 年龄分布
			var myChartAgeLine = echarts.init(linContainer);
			var myChartAgePie = echarts.init(pieContainer);
			
			////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
			
			//曲线图数据准备
			var date = [20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76];
			var sum = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,1,2,0,2,2,5,8,4,9,5,17,22,20,23,34,26,42,49,48,66,55,25,21,28,14,32,14,11,14,5,4,0,1,0,1,1,2,0,1,2,1];
			var hsum = [1,0,2,0,0,1,1,0,0,0,3,0,4,8,9,9,17,19,17,22,33,32,47,47,59,66,57,27,20,23,19,14,7,10,12,9,11,3,0,3,1,2,1,0,0,3,0,0,0,0,0,0,0,0,0,0,0];
			
			//for(var i=20;i<77;i++){
			//	date.push(i);
			//}
			
			//曲线图
			var colors = ['#ff0000', '#0000ff', '#00ff00'];
			optionAgeLine = {
				color: colors,
				title: {
					text: '部分长江学者年龄与获奖年龄分布图',
					subtext: 'Data from Team 10',
					sublink: 'https://github.com/iamweixiaohang/CJSDatafromTeam10',
					left: 'center'
				},
				tooltip: {
					trigger: 'axis'
				},
				legend: {
					x : 'center',
					y : 'bottom',
					data:['年龄人数' , '获奖年龄人数']
				},
				xAxis: {
					name: '年龄（岁）',
					type: 'category',
					data: date
				},
				yAxis: {
					name: '人数（位）',
					type: 'value'
				},
				series: [{
					name:'年龄人数',
					data: sum,
					type: 'line',
					smooth: true
				},
				{
					name:'获奖年龄人数',
					data: hsum,
					type: 'line',
					smooth: true
				}]
			};
			
			////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
			
			//饼图数据准备
			var a1 = '≤40岁';
			var a2 = '41~45岁';
			var a3 = '46~50岁';
			var a4 = '51~55岁';
			var a5 = '56~60岁';
			var a6 = '61~65岁';
			var a7 = '66~70岁';
			var a8 = '≥71岁';
			
			var a11 = 9;
			var a12 = 31;
			var a13 = 116;
			var a14 = 231;
			var a15 = 143;
			var a16 = 76;
			var a17 = 6;
			var a18 = 7;
			
			var ha1 = '≤30岁';
			var ha2 = '31~35岁';
			var ha3 = '36~40岁';
			var ha4 = '41~45岁';
			var ha5 = '46~50岁';
			var ha6 = '51~55岁';
			var ha7 = '56~60岁';
			var ha8 = '≥61岁';
			
			var ha11 = 8;
			var ha12 = 30;
			var ha13 = 108;
			var ha14 = 251;
			var ha15 = 146;
			var ha16 = 52;
			var ha17 = 18;
			var ha18 = 6;
			
			//饼图
			optionAgePie = {
				title : {
					text: '部分长江学者年龄与获奖年龄比例图',
					subtext: 'Data from Team 10',
					sublink: 'https://github.com/iamweixiaohang/CJSDatafromTeam10',
					x: 'center'
				},
				tooltip : {
					trigger: 'item',
					formatter: "{a} <br/>{b} : {c} ({d}%)"
				},
				calculable : true,
				series : [{
					name:'年龄',
					type:'pie',
					radius : [20, 110],
					center : ['50%', '30%'],
					roseType : 'radius',
					label: {
						normal: {
							formatter: '{a|{a}}{abg|}\n{hr|}\n  {b|{b}：}{c}  {per|{d}%}  ',
							backgroundColor: '#eee',
							borderColor: '#aaa',
							borderWidth: 1,
							borderRadius: 4,
							rich: {
								a: {
									color: '#999',
									lineHeight: 18,
									align: 'center'
								},
								hr: {
									borderColor: '#aaa',
									width: '100%',
									borderWidth: 0.5,
									height: 0
								},
								b: {
									fontSize: 10,
									lineHeight: 26
								},
								per: {
									color: '#eee',
									backgroundColor: '#334455',
									padding: [2, 4],
									borderRadius: 2
								}
							}
						}
					},
					data: [
						{value:a11, name:a1},
						{value:a12, name:a2},
						{value:a13, name:a3},
						{value:a14, name:a4},
						{value:a15, name:a5},
						{value:a16, name:a6},
						{value:a17, name:a7},
						{value:a18, name:a8}
					]
				},
				{
					name:'获奖年龄',
					type:'pie',
					radius : [20, 110],
					center : ['50%', '80%'],
					roseType : 'radius',
					label: {
						normal: {
							formatter: '{a|{a}}{abg|}\n{hr|}\n  {b|{b}：}{c}  {per|{d}%}  ',
							backgroundColor: '#eee',
							borderColor: '#aaa',
							borderWidth: 1,
							borderRadius: 4,
							rich: {
								a: {
									color: '#999',
									lineHeight: 18,
									align: 'center'
								},
								hr: {
									borderColor: '#aaa',
									width: '100%',
									borderWidth: 0.5,
									height: 0
								},
								b: {
									fontSize: 10,
									lineHeight: 26
								},
								per: {
									color: '#eee',
									backgroundColor: '#334455',
									padding: [2, 4],
									borderRadius: 2
								}
							}
						}
					},
					data: [
						{value:ha11, name:ha1},
						{value:ha12, name:ha2},
						{value:ha13, name:ha3},
						{value:ha14, name:ha4},
						{value:ha15, name:ha5},
						{value:ha16, name:ha6},
						{value:ha17, name:ha7},
						{value:ha18, name:ha8}
					]
				}]
			};
			
			////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
			
			
			//myChartAgeLine.setOption(optionAgeLine);
			myChartAgePie.setOption(optionAgePie);
			
        </script>
    </body>
</html>
